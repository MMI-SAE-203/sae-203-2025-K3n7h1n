---
// src/pages/index.astro
import FilmCard from '../../components/Card.astro';
import ActivityCard from '../../components/ActivityCard.astro';
import GuestCard from '../../components/GuestCard.astro';
import Layout from '../../layouts/Layout.astro';
import { filmsOrder } from '../../../backend.mjs';
import { NameOrder } from '../../../backend.mjs';
import { ActOrder } from '../../../backend.mjs';



const film = await filmsOrder();
const guest = await NameOrder();
const activities = await ActOrder();
console.log(activities[0].expand.animateurs);

---

<Layout title="Programmation" class="font-mono">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <h1 class="text-3xl font-bold text-center mb-8">Festival CinéMatsuri</h1>
    
    <div class="mt-4 p-6 bg-gray-100 rounded-lg shadow-md mb-12">
      <p class="text-gray-700 mb-4">
        Découvrez un festival unique entièrement dédié aux films d'animation japonais. Situé à Andelnans, près de Belfort, il propose une expérience immersive avec des projections exclusives, dont certains films des Studios Ghibli adaptés aux enfants comme aux passionnés.
Original par son focus sur l'animation japonaise et son emplacement en dehors des grands centres comme Paris, le festival offre aussi des rencontres avec des professionnels du milieu, des ateliers pour découvrir les métiers de l'animation, et des stands créatifs en lien avec la culture japonaise.
Venez explorer l'univers riche et créatif de l'animation japonaise !
      </p>
    </div>
    
    <!-- Section Films -->
    <section id="films" class="mb-12">
      <h2 class="text-2xl font-bold mb-4">Films</h2>
      {film.length > 0 ? (
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          {film.map((film) => (
            <FilmCard {...film} />
          ))}
        </div>
      ) : (
        <p class="text-gray-600 text-center">
          Aucune programmation film disponible pour le moment.
        </p>
      )}
    </section>
    
    <!-- Section Activités -->
    <section id="activites" class="mb-12">
      <h2 class="text-2xl font-bold mb-4">Activités</h2>
      {activities.length > 0 ? (
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          {activities.map((activity) => (
            <ActivityCard {...activity} />
          ))}
        </div>
      ) : (
        <p class="text-gray-600 text-center">
          Aucune activité disponible pour le moment.
        </p>
      )}
    </section>
    
    <!-- Section Invités -->
    <section id="invites">
      <h2 class="text-2xl font-bold mb-4">Invités</h2>
      {guest.length > 0 ? (
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          {guest.map((guest) => (
            <GuestCard {...guest} />
          ))}
        </div>
      ) : (
        <p class="text-gray-600 text-center">
          Aucun invité disponible pour le moment.
        </p>
      )}
    </section>
  </div>
  
</Layout>